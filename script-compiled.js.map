{"version":3,"sources":["js/playerscript.js","js/video.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["/*\nclass Player {\n  constructor(data) {\n\n    this.data = data;\n    this.container = document.querySelector('.container');\n    this.heading = (this.container).querySelector('.heading');\n    this.videocontainer = (this.container).querySelector('.video');\n    //finna takka\n    this.prev = (this.container).querySelector('.player .prev');\n    this.play = (this.container).querySelector('.player .play');\n    this.sound = (this.container).querySelector('.player .sound');\n    this.fullscreen = (this.container).querySelector('.player .fullscreen');\n    this.next = (this.container).querySelector('.player .next');\n\n  }\n\n  playfun() {\n    this.video = this.process(this.data);\n    this.create();\n  }\n\n//hugmynd\n  create() {\n\n    //setja <h1> sem titil myndbands\n    (this.heading).appendChild(document.createTextNode((this.video).title));\n\n    this.videoElement = document.createElement('video');\n    (this.videoElement).setAttribute('width',  '320');\n    (this.videoElement).setAttribute('height',  '240');\n    const source = document.createElement('source');\n    source.setAttribute('src',  (this.video).video);\n    (this.videoElement).appendChild(source);\n    (this.videocontainer).appendChild((this.videoElement));\n\n    //video playast automatically i byrjun, breyta?\n    (this.videoElement).play();\n\n    //Event listener fyrir takka, þarf að búa til þessi föll\n\n    (this.prev).addEventListener('click', this.setTime(-3) ,false);\n    //(this.play).addEventListener('click', this.playfun.bind(this));\n    //(this.sound).addEventListener('click', this.soundfun.bind(this));\n    //(this.fullscreen).addEventListener('click', this.fullscreenfun.bind(this));\n    (this.next).addEventListener('click', function(){setTime(3);} ,false);\n\n\n  }\n\n  setTime(time) {\n    try {\n      (this.videoElement).currentTime += time;\n    } catch (error) {\n      errorMessage('No video loaded');\n    }\n  }\n\n  process(data){\n    const videos = data.videos;\n    const id = (window.location.search).charAt(4);\n\n    return this.videofind(videos, id);\n  }\n\n  videofind(videos, id) {\n    //nota sniðugu loopuna, ekki þessa\n    for(var i = 0; i<videos.length; i++){\n      if(videos[i].id == id) {\n        return videos[i];\n      }\n    }\n  }\n}\n*/\n\nfunction load() {\n  const json = new XMLHttpRequest();\n  json.open('GET', '/js/videos.json', true);\n\n  json.onload = function() {\n      const jsondata = JSON.parse(json.response);\n      init(jsondata.videos);\n  };\n  json.send();\n}\n\nfunction init(data) {\n\n  const videoinfo = videofind(data,  (window.location.search).charAt(4));\n  const container =  document.querySelector('.container');\n  const videoContainer = container.querySelector('.video');\n  videoContainer.setAttribute('class', 'video');\n  //col col-12\n\n  //finna takkanna líka inní fallinu, breyta html þá pínu\n  const playButton = (container.querySelectorAll('.player .player__button')[1]).querySelector('.play');\n  const soundButton = (container.querySelectorAll('.player .player__button')[2]).querySelector('.sound');\n  //Er verið að play-a í fyrsta skipti\n  let played = true;\n\n  //Setja titil efst á síðu\n  const heading = container.querySelector('.heading');\n  heading.appendChild(document.createTextNode(videoinfo.title));\n\n  //Búa til myndbandshlut sem við setjum inn þegar ýtt er á play í fyrsta skipti\n  const video = document.createElement('video');\n\n  //TODO\n  video.setAttribute('class', 'hide');\n  videoContainer.appendChild(video);\n\n  const source = document.createElement('source');\n  source.setAttribute('src',  videoinfo.video);\n  video.appendChild(source);\n\n  //setjum poster inn í byrjun\n  const poster = document.createElement('img');\n  poster.setAttribute('src', videoinfo.poster);\n  poster.setAttribute('class', 'vid ');\n  videoContainer.appendChild(poster);\n\n  //setjum play takka á poster\n  const playImg = document.createElement('img');\n  playImg.setAttribute('src', 'img/play.svg');\n  playImg.setAttribute('class', 'playImg');\n  videoContainer.appendChild(playImg);\n\n\n  //prufa\n  const overlay = document.createElement('div');\n  overlay.setAttribute('class', 'overlay ');\n  videoContainer.appendChild(overlay);\n\n\n\n  //Sækja takka\n  const prev = container.querySelector('.player .prev');\n  const play = container.querySelector('.player .play');\n  const sound = container.querySelector('.player .sound');\n  const fullscreen = container.querySelector('.player .fullscreen');\n  const next = container.querySelector('.player .next');\n\n  //atburðahandler á takka\n  prev.addEventListener('click', function () { setTime(-3); });\n  play.addEventListener('click', playPause);\n  sound.addEventListener('click', soundMute);\n  fullscreen.addEventListener('click', fullscr);\n  next.addEventListener('click', function () { setTime (3); });\n\n  //atburðarhandler á skjá\n  overlay.addEventListener('click', playPause);\n  video.addEventListener('click', playPause);\n\n\n  function fullscr() {\n    video.webkitRequestFullscreen();\n  }\n\n  function soundMute() {\n    if(video.muted){\n      soundButton.setAttribute('src', 'img/mute.svg');\n      video.muted = false;\n    } else {\n      soundButton.setAttribute('src', 'img/unmute.svg');\n      video.muted = true;\n\n    }\n  }\n\n//gaura aukafalla til að sleppa við línur gerðar tvisvar\n  function playPause() {\n    if(played) {\n      playImg.setAttribute('class', 'hide');\n      videoContainer.removeChild(poster);\n      video.setAttribute('class', 'vid ');\n      playButton.setAttribute('src', 'img/pause.svg');\n      overlay.setAttribute('class', 'hide');\n      played = false;\n      video.play();\n\n    }else if (video.paused) {\n      playImg.setAttribute('class', 'hide');\n      playButton.setAttribute('src', 'img/pause.svg');\n      overlay.setAttribute('class', 'hide');\n      video.play();\n    } else {\n      overlay.setAttribute('class', 'overlay ');\n      playImg.setAttribute('class', 'playImg');\n      playButton.setAttribute('src', 'img/play.svg');\n      video.pause();\n    }\n  }\n\n  function setTime(time) {\n      try {\n        video.currentTime += time;\n      } catch (error) {\n        errorMessage('No video loaded');\n      }\n    }\n\n\n  function videofind(videos, id) {\n    //nota sniðugu loopuna, ekki þessa\n    for(var i = 0; i<videos.length; i++){\n      if(videos[i].id == id) {\n        return videos[i];\n      }\n    }\n  }\n\n}\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  load();\n});\n","class Video {\n  constructor() {\n    //local .json file\n    this.API_URL = '/js/videos.json';\n    getData(this.API_URL, this);\n  }\n\n  run(data) {\n    this.data = data;\n    console.log(this.data);\n\n    this.process(this.data);\n  }\n\n   process(data) {\n   const sec = document.querySelectorAll('.video');\n   const videos = data.videos;\n   const cat = data.categories;\n\n   const sorted = this.sort(videos, cat);\n   console.log(sorted);\n   this.make(sorted.nyleg, 'Nýleg_myndbönd');\n   this.make(sorted.kennslu, 'Kennslumyndbönd');\n   this.make(sorted.gaman, 'Skemmtimyndbönd');\n  }\n\n  make(cat, title) {\n    const main = document.querySelector('main');\n\n    const section = document.createElement('nav');\n    const list = document.createElement('ul');\n    list.classList.add('video');\n    list.classList.add('row');\n\n    const header = document.createElement('h2');\n    header.setAttribute('class', 'header header--heading2');\n\n    section.appendChild(header);\n    section.appendChild(list);\n    header.appendChild(document.createTextNode(title.replace(/_+/g, ' ')))\n    Object.values(cat).forEach(x => list.appendChild(this.movie(x)));\n\n    main.appendChild(section);\n  }\n\n  movie(movie) {\n    const container = document.createElement('li');\n    container.classList.add('video__movie');\n    this.makeGrid(container);\n\n    const poster = document.createElement('a');\n    poster.classList.add('video__poster');\n    poster.setAttribute('href', 'player.html?id=' + movie.id);\n\n    const img = document.createElement('img');\n    img.setAttribute('src', movie.poster);\n\n    const length = document.createElement('div');\n    length.classList.add('video__length');\n    length.appendChild(document.createTextNode(this.timestamp(movie.duration)));\n\n    const title = document.createElement('h2');\n    title.classList.add('video__title');\n    title.appendChild(document.createTextNode(movie.title));\n\n    const info = document.createElement('div');\n    info.classList.add('video__info');\n\n  // TODO: gera fall fyrir movie.created\n    info.appendChild(title);\n    info.appendChild(document.createTextNode(this.toDate(movie.created)));\n\n    poster.appendChild(img);\n    poster.appendChild(length);\n\n    container.appendChild(poster);\n    container.appendChild(info);\n\n    return container;\n  }\n\n  makeGrid(cont) {\n    cont.classList.add('col');\n    cont.classList.add('col-4');\n    cont.classList.add('col-sm-6');\n    cont.classList.add('col-mm-12');\n  }\n\n  timestamp(length) {\n  const min = Math.floor(length/60);\n  const sec = length - (min * 60);\n\n  if (sec<10) { return `${min}:0${sec}`; }\n  else { return `${min}:${sec}`; }\n  }\n\n  toDate(date) {\n    const made = new Date(date);\n    const now = new Date();\n    return this.dateHowLong(now-made);\n  }\n\n  dateHowLong(time) {\n    const secs =  time / 1000;\n    const year = Math.floor(secs / (365 * 24 * 60 * 60));\n    const month = Math.floor(secs / (30 * 24 * 60 * 60));\n    const week = Math.floor(secs / (7 * 24 * 60 * 60));\n    const day = Math.floor(secs / (24 * 60 * 60));\n\n    if(year >= 1) {\n      if(year == 1) {\n        return `fyrir ${year} ári síðan`;\n      } else return `fyrir ${year} árum síðan`;\n    } else if(month >= 1) {\n      if(month == 1) {\n        return `fyrir ${month} mánuði síðan`;\n      } else return `fyrir ${month} mánuðum síðan`;\n    } else if(week >= 1) {\n      if(week == 1) {\n        return `fyrir ${week} viku síðan`;\n      } else return `fyrir ${week} vikum síðan`;\n    } else if(day >= 1) {\n      if(day == 1) {\n        return `fyrir ${day} degi síðan`;\n      } else return `fyrir ${day} dögum síðan`;\n    } else {\n      if(hour == 1) {\n        return `fyrir ${hour} klukkustund síðan`;\n      } else return `fyrir ${hour} klukkustundum síðan`;\n    }\n  }\n\n  sort(videos, cat) {\n    // TODO: reyna koma þessu í forEach eða álíka\n    const nyleg = videos.filter(function(categorie) {\n      return cat[0].videos.includes(categorie.id);\n    });\n\n    const kennslu = videos.filter(function(categorie) {\n      return cat[1].videos.includes(categorie.id);\n    });\n\n    const gaman = videos.filter(function(categorie) {\n      return cat[2].videos.includes(categorie.id);\n    });\n\n    return {nyleg, kennslu, gaman};\n  }\n\n}\n\nfunction getData(url, video) {\n  const json = new XMLHttpRequest();\n  json.open('GET', url, true);\n  json.onload = function() {\n    if (json.status < 400 && json.status >= 200) {\n      video.run(JSON.parse(json.response));\n    } else {\n\n      console.error('villa', json);\n      errMsg();\n    }\n  };\n\n  json.onerror = function() {\n    errMsg();\n  };\n\n  json.send();\n}\n\nfunction errMsg() {\n  const main = document.querySelector('main');\n  const error = document.createElement('div');\n  error.classList.add('error');\n  error.appendChild(document.createTextNode('Gat ekki hlaðið gögnum'));\n  main.appendChild(error);\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const video = new Video();\n});\n"]}