
{"version":3,"sources":["js/player.js","js/playerscript.js","js/video.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class Player {\r\n  constructor() {\r\n    this.ex = 'player test';\r\n  }\r\n\r\n  test(){\r\n    console.log(this.ex);\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const player = new Player();\r\n  player.test();\r\n});\r\n","/*\r\nclass Player {\r\n  constructor(data) {\r\n\r\n    this.data = data;\r\n    this.container = document.querySelector('.container');\r\n    this.heading = (this.container).querySelector('.heading');\r\n    this.videocontainer = (this.container).querySelector('.video');\r\n    //finna takka\r\n    this.prev = (this.container).querySelector('.player .prev');\r\n    this.play = (this.container).querySelector('.player .play');\r\n    this.sound = (this.container).querySelector('.player .sound');\r\n    this.fullscreen = (this.container).querySelector('.player .fullscreen');\r\n    this.next = (this.container).querySelector('.player .next');\r\n\r\n  }\r\n\r\n  playfun() {\r\n    this.video = this.process(this.data);\r\n    this.create();\r\n  }\r\n\r\n//hugmynd\r\n  create() {\r\n\r\n    //setja <h1> sem titil myndbands\r\n    (this.heading).appendChild(document.createTextNode((this.video).title));\r\n\r\n    this.videoElement = document.createElement('video');\r\n    (this.videoElement).setAttribute('width',  '320');\r\n    (this.videoElement).setAttribute('height',  '240');\r\n    const source = document.createElement('source');\r\n    source.setAttribute('src',  (this.video).video);\r\n    (this.videoElement).appendChild(source);\r\n    (this.videocontainer).appendChild((this.videoElement));\r\n\r\n    //video playast automatically i byrjun, breyta?\r\n    (this.videoElement).play();\r\n\r\n    //Event listener fyrir takka, þarf að búa til þessi föll\r\n\r\n    (this.prev).addEventListener('click', this.setTime(-3) ,false);\r\n    //(this.play).addEventListener('click', this.playfun.bind(this));\r\n    //(this.sound).addEventListener('click', this.soundfun.bind(this));\r\n    //(this.fullscreen).addEventListener('click', this.fullscreenfun.bind(this));\r\n    (this.next).addEventListener('click', function(){setTime(3);} ,false);\r\n\r\n\r\n  }\r\n\r\n  setTime(time) {\r\n    try {\r\n      (this.videoElement).currentTime += time;\r\n    } catch (error) {\r\n      errorMessage('No video loaded');\r\n    }\r\n  }\r\n\r\n  process(data){\r\n    const videos = data.videos;\r\n    const id = (window.location.search).charAt(4);\r\n\r\n    return this.videofind(videos, id);\r\n  }\r\n\r\n  videofind(videos, id) {\r\n    //nota sniðugu loopuna, ekki þessa\r\n    for(var i = 0; i<videos.length; i++){\r\n      if(videos[i].id == id) {\r\n        return videos[i];\r\n      }\r\n    }\r\n  }\r\n}\r\n*/\r\n\r\nfunction load() {\r\n  const json = new XMLHttpRequest();\r\n  json.open('GET', '/js/videos.json', true);\r\n\r\n  json.onload = function() {\r\n    const jsondata = JSON.parse(json.response);\r\n    init(jsondata.videos);\r\n  };\r\n  json.send();\r\n}\r\n\r\nfunction init(data) {\r\n\r\n  const videoinfo = videofind(data,  (window.location.search).charAt(4));\r\n  const container =  document.querySelector('.container');\r\n  //finna takkanna líka inní fallinu, breyta html þá pínu\r\n  const playButton = (container.querySelectorAll('.player .player__button')[1]).querySelector('.play');\r\n  const soundButton = (container.querySelectorAll('.player .player__button')[2]).querySelector('.sound');\r\n\r\n  //Setja titil efst á síðu\r\n  const heading = container.querySelector('.heading');\r\n  heading.appendChild(document.createTextNode(videoinfo.title));\r\n\r\n  //setja myndband inn\r\n  const video = document.createElement('video');\r\n  //Ath sleppa þessum og nota css til að ákvaðra stærð\r\n  video.setAttribute('width',  '500');\r\n  video.setAttribute('height',  '500');\r\n  const source = document.createElement('source');\r\n  source.setAttribute('src',  videoinfo.video);\r\n  video.appendChild(source);\r\n  (container.querySelector('.video')).appendChild(video);\r\n\r\n\r\n  //Sækja takka\r\n  const prev = container.querySelector('.player .prev');\r\n  const play = container.querySelector('.player .play');\r\n  const sound = container.querySelector('.player .sound');\r\n  const fullscreen = container.querySelector('.player .fullscreen');\r\n  const next = container.querySelector('.player .next');\r\n\r\n  //atburðahandler á takka\r\n  prev.addEventListener('click', function () { setTime(-3); });\r\n  play.addEventListener('click', playPause);\r\n  sound.addEventListener('click', soundMute);\r\n  fullscreen.addEventListener('click', fullscr);\r\n  next.addEventListener('click', function () { setTime (3); });\r\n\r\n\r\n  function fullscr() {\r\n    video.webkitRequestFullscreen();\r\n  }\r\n\r\n  function soundMute() {\r\n    if(video.muted){\r\n      soundButton.setAttribute('src', 'img/mute.svg');\r\n      video.muted = false;\r\n    } else {\r\n      soundButton.setAttribute('src', 'img/unmute.svg');\r\n      video.muted = true;\r\n\r\n    }\r\n  }\r\n\r\n  function playPause() {\r\n    if (video.paused) {\r\n      playButton.setAttribute('src', 'img/pause.svg');\r\n      video.play();\r\n    } else {\r\n      playButton.setAttribute('src', 'img/play.svg');\r\n      video.pause();\r\n    }\r\n  }\r\n\r\n  function setTime(time) {\r\n      try {\r\n        video.currentTime += time;\r\n      } catch (error) {\r\n        errorMessage('No video loaded');\r\n      }\r\n    }\r\n\r\n\r\n  function videofind(videos, id) {\r\n    //nota sniðugu loopuna, ekki þessa\r\n    for(var i = 0; i<videos.length; i++){\r\n      if(videos[i].id == id) {\r\n        return videos[i];\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  load();\r\n});\r\n","class Video {\r\n  constructor() {\r\n    //local .json file\r\n    this.API_URL = '/js/videos.json';\r\n  }\r\n\r\n  load() {\r\n    const json = new XMLHttpRequest();\r\n    json.open('GET', this.API_URL, true);\r\n\r\n    json.onload = function() {\r\n      this.data = JSON.parse(json.response);\r\n      process(this.data);\r\n    };\r\n    json.send();\r\n  }\r\n}\r\n\r\nfunction process(data) {\r\n const sec = document.querySelectorAll('.video');\r\n const videos = data.videos;\r\n const cat = data.categories;\r\n\r\n const sorted = sort(videos, cat);\r\n console.log(sorted);\r\n make(sorted.nyleg, 'Nýleg_myndbönd');\r\n make(sorted.kennslu, 'Kennslumyndbönd');\r\n make(sorted.gaman, 'Skemmtimyndbönd');\r\n}\r\n\r\nfunction make(cat, title) {\r\n  const main = document.querySelector('main');\r\n  const section = document.createElement('nav');\r\n  const list = document.createElement('ul');\r\n  const header = document.createElement('h2');\r\n\r\n  section.appendChild(header);\r\n  section.appendChild(list);\r\n  header.appendChild(document.createTextNode(title.replace(/_+/g, ' ')))\r\n  Object.values(cat).forEach(x => list.appendChild(movie(x)));\r\n\r\n  section.classList.add('videos__'+title);\r\n  main.appendChild(section);\r\n}\r\n\r\nfunction movie(movie) {\r\n  const container = document.createElement('li');\r\n  container.classList.add('movie');\r\n\r\n\r\n  const poster = document.createElement('a');\r\n  poster.classList.add('video__poster');\r\n  poster.setAttribute('href', 'player.html?id=' + movie.id);\r\n\r\n  const img = document.createElement('img');\r\n  img.setAttribute('src', movie.poster);\r\n\r\n  const length = document.createElement('div');\r\n  length.classList.add('video__length');\r\n  length.appendChild(document.createTextNode(timestamp(movie.duration)));\r\n\r\n  const title = document.createElement('h2');\r\n  title.classList.add('movie__title');\r\n  title.appendChild(document.createTextNode(movie.title));\r\n\r\n  const info = document.createElement('div');\r\n  info.classList.add('video__info');\r\n\r\n// TODO: gera fall fyrir movie.created\r\n  info.appendChild(title);\r\n  info.appendChild(document.createTextNode(movie.created));\r\n\r\n  poster.appendChild(img);\r\n  poster.appendChild(length);\r\n\r\n  container.appendChild(poster);\r\n  container.appendChild(info);\r\n\r\n  return container;\r\n}\r\n\r\nfunction timestamp(length) {\r\nconst min = Math.floor(length/60);\r\nconsole.log(min);\r\nconst sec = length - (min * 60);\r\n\r\nif (sec<10) { return `${min}:0${sec}`; }\r\nelse { return `${min}:${sec}`; }\r\n}\r\n\r\nfunction sort(videos, cat) {\r\n\r\n  // TODO: reyna koma þessu í forEach eða álíka\r\n  const nyleg = videos.filter(function(categorie) {\r\n    return cat[0].videos.includes(categorie.id);\r\n  });\r\n\r\n  const kennslu = videos.filter(function(categorie) {\r\n    return cat[1].videos.includes(categorie.id);\r\n  });\r\n\r\n  const gaman = videos.filter(function(categorie) {\r\n    return cat[2].videos.includes(categorie.id);\r\n  });\r\n\r\n  return {nyleg, kennslu, gaman};\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const video = new Video();\r\n  video.load();\r\n});\r\n"]}

