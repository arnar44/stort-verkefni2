{"version":3,"sources":["js/playerscript.js","js/video.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["\r\nclass Player {\r\n  constructor (data) {\r\n    this.data = data;\r\n    //TODO nota search parameter til að finna ID\r\n    this.videoinfo = this.videofind((window.location.search).charAt(4));\r\n    this.container = document.querySelector('.container');\r\n    this.videoContainer = (this.container).querySelector('.videoContainer');\r\n    //finna takkanna líka inní fallinu, breyta html þá pínu\r\n    this.playButton = (this.container.querySelectorAll('.player .player__button')[1]).querySelector('.play');\r\n    this.soundButton = (this.container.querySelectorAll('.player .player__button')[2]).querySelector('.sound');\r\n    //Er verið að play-a í fyrsta skipti\r\n    this.played = true;\r\n  }\r\n\r\n  init() {\r\n    //Setja titil efst á síðu\r\n    this.heading = this.container.querySelector('.heading');\r\n    this.heading.appendChild(document.createTextNode((this.videoinfo).title));\r\n\r\n    //Búum til myndbandshlut\r\n    this.video = document.createElement('video');\r\n    //Video er falið í byrjun því þá er poster sýnt\r\n    this.video.setAttribute('class', 'hide');\r\n    this.video.setAttribute('src', this.videoinfo.video);\r\n    this.videoContainer.appendChild(this.video);\r\n\r\n    //Búum til og setjum inn poster\r\n    this.poster = document.createElement('img');\r\n    this.poster.setAttribute('src', (this.videoinfo).poster);\r\n    this.poster.setAttribute('class', 'vid');\r\n    this.videoContainer.appendChild(this.poster);\r\n\r\n    //Búum til og setjum inn play takka (ofan á poster/video)\r\n    this.playImg = document.createElement('img');\r\n    this.playImg.setAttribute('src', 'img/play.svg');\r\n    this.playImg.setAttribute('class', 'playImg');\r\n    this.videoContainer.appendChild(this.playImg);\r\n\r\n    //Búum til og setjum ofan á overlay skugga\r\n    this.overlay = document.createElement('div');\r\n    this.overlay.setAttribute('class', 'overlay ');\r\n    this.videoContainer.appendChild(this.overlay);\r\n\r\n    //Sækja takka\r\n    this.prev = this.container.querySelector('.player .prev');\r\n    this.play = this.container.querySelector('.player .play');\r\n    this.sound = this.container.querySelector('.player .sound');\r\n    this.fullscreen = this.container.querySelector('.player .fullscreen');\r\n    this.next = this.container.querySelector('.player .next');\r\n\r\n    //Setja atburðarhandler á takkana\r\n    this.prev.addEventListener('click', this.setBack.bind(this));\r\n    this.play.addEventListener('click', this.playPause.bind(this));\r\n    this.sound.addEventListener('click', this.soundMute.bind(this));\r\n    this.fullscreen.addEventListener('click', this.fullscr.bind(this));\r\n    this.next.addEventListener('click', this.setFor.bind(this));\r\n\r\n    //atburðarhandler á skjá\r\n    this.overlay.addEventListener('click', this.playPause.bind(this));\r\n    this.video.addEventListener('click', this.playPause.bind(this));\r\n  }\r\n\r\n  //gaura aukafalla til að sleppa við línur gerðar tvisvar\r\n  playPause() {\r\n    //Þetta er fyrsta sinn sem er ýtt á play, þá eyða posterinu,\r\n    //sýna myndband og spila það\r\n    if(this.played) {\r\n      this.hide();\r\n      this.videoContainer.removeChild(this.poster);\r\n      this.video.setAttribute('class', 'vid ');\r\n      this.played = false;\r\n    } else if (this.video.paused) {\r\n      this.hide();\r\n    } else {\r\n      this.overlay.setAttribute('class', 'overlay ');\r\n      this.playImg.setAttribute('class', 'playImg');\r\n      this.playButton.setAttribute('src', 'img/play.svg');\r\n      this.video.pause();\r\n    }\r\n  }\r\n\r\n  //fela overlay og play taka þegar myndband er play-a (play-a og toggla takka)\r\n  hide() {\r\n    this.playImg.setAttribute('class', 'hide');\r\n    this.overlay.setAttribute('class', 'hide');\r\n    this.playButton.setAttribute('src', 'img/pause.svg');\r\n    this.video.play();\r\n  }\r\n\r\n  //afmute-a/mute-a myndband og toggla takka í samræmi\r\n  soundMute() {\r\n    if(this.video.muted){\r\n      this.soundButton.setAttribute('src', 'img/mute.svg');\r\n      this.video.muted = false;\r\n    } else {\r\n      this.soundButton.setAttribute('src', 'img/unmute.svg');\r\n      this.video.muted = true;\r\n    }\r\n  }\r\n\r\n  //Setja í fullscreen\r\n  fullscr() {\r\n      this.video.webkitRequestFullscreen();\r\n  }\r\n\r\n  //Spóla 3 sek afturábak\r\n  setBack() {\r\n      this.video.currentTime -= 3;\r\n  }\r\n  //Spóla 3 sek áfram\r\n  setFor() {\r\n      this.video.currentTime += 3;\r\n  }\r\n\r\n  //notar ID úr querystring til að finna hvaða video var smellt á\r\n  videofind(id) {\r\n    //TODO nota flottari lykkju?\r\n    for(var i = 0; i<(this.data).length; i++){\r\n      if(this.data[i].id == id) {\r\n        return this.data[i];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//TODO ath hvort skili villu\r\n//TODO ekki framkvæma á index síðu\r\n//Hlaða gögnum\r\nfunction load() {\r\n  const json = new XMLHttpRequest();\r\n  json.open('GET', '/js/videos.json', true);\r\n\r\n  json.onload = function() {\r\n      const jsondata = JSON.parse(json.response);\r\n      const player = new Player(jsondata.videos);\r\n      player.init();\r\n  };\r\n  json.send();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  load();\r\n});\r\n","class Video {\r\n  //smiður\r\n  constructor() {\r\n    //local .json file\r\n    this.API_URL = '/js/videos.json';\r\n    getData(this.API_URL, this);\r\n  }\r\n\r\n  //keyrsla\r\n  run(data) {\r\n    this.data = data;\r\n    this.process(this.data);\r\n  }\r\n\r\n  //vinna úr gögnum\r\n   process(data) {\r\n   const videos = data.videos;\r\n   const cat = data.categories;\r\n\r\n   const sorted = this.sort(videos, cat);\r\n   this.make(sorted.nyleg, 'Nýleg_myndbönd');\r\n   this.make(sorted.kennslu, 'Kennslumyndbönd');\r\n   this.make(sorted.gaman, 'Skemmtimyndbönd');\r\n  }\r\n\r\n  //búa til grind\r\n  make(cat, title) {\r\n    const main = document.querySelector('main');\r\n\r\n    const section = document.createElement('nav');\r\n    const list = document.createElement('ul');\r\n    list.classList.add('video');\r\n    list.classList.add('row');\r\n\r\n    const header = document.createElement('h2');\r\n    header.setAttribute('class', 'header header--heading2');\r\n\r\n    section.appendChild(header);\r\n    section.appendChild(list);\r\n    header.appendChild(document.createTextNode(title.replace(/_+/g, ' ')));\r\n\r\n    //fyrir alla flokka, búa til flokk með movie(x);\r\n    Object.values(cat).forEach(x => list.appendChild(this.movie(x)));\r\n\r\n    main.appendChild(section);\r\n  }\r\n\r\n  //búa til flokka með myndum\r\n  movie(movie) {\r\n    const container = document.createElement('li');\r\n    container.classList.add('video__movie');\r\n    this.makeGrid(container);\r\n\r\n    const poster = document.createElement('a');\r\n    poster.classList.add('video__poster');\r\n    poster.setAttribute('href', 'player.html?id=' + movie.id);\r\n\r\n    const img = document.createElement('img');\r\n    img.setAttribute('src', movie.poster);\r\n\r\n    const length = document.createElement('div');\r\n    length.classList.add('video__length');\r\n    length.appendChild(document.createTextNode(this.timestamp(movie.duration)));\r\n\r\n    const title = document.createElement('h2');\r\n    title.classList.add('video__title');\r\n    title.appendChild(document.createTextNode(movie.title));\r\n\r\n    const date = document.createElement('p');\r\n    date.classList.add('video__date');\r\n    date.appendChild(document.createTextNode(this.toDate(movie.created)));\r\n\r\n    const info = document.createElement('div');\r\n    info.classList.add('video__info');\r\n\r\n  // TODO: gera fall fyrir movie.created\r\n    info.appendChild(title);\r\n    info.appendChild(date);\r\n\r\n    poster.appendChild(img);\r\n    poster.appendChild(length);\r\n\r\n    container.appendChild(poster);\r\n    container.appendChild(info);\r\n\r\n    return container;\r\n  }\r\n\r\n  //útfæra grind\r\n  makeGrid(cont) {\r\n    cont.classList.add('col');\r\n    cont.classList.add('col-4');\r\n    cont.classList.add('col-sm-6');\r\n    cont.classList.add('col-mm-12');\r\n  }\r\n\r\n  //fá lengd myndbands\r\n  timestamp(length) {\r\n  const min = Math.floor(length/60);\r\n  const sec = length - (min * 60);\r\n\r\n  if (sec<10) { return `${min}:0${sec}`; }\r\n  else { return `${min}:${sec}`; }\r\n  }\r\n\r\n  //fá aldur á myndbandi\r\n  toDate(date) {\r\n    const made = new Date(date);\r\n    const now = new Date();\r\n    return this.dateHowLong(now-made);\r\n  }\r\n\r\n  //sníða framsetningu á aldri myndbands\r\n  dateHowLong(time) {\r\n    const secs =  time / 1000;\r\n    const year = Math.floor(secs / (365 * 24 * 60 * 60));\r\n    const month = Math.floor(secs / (30 * 24 * 60 * 60));\r\n    const week = Math.floor(secs / (7 * 24 * 60 * 60));\r\n    const day = Math.floor(secs / (24 * 60 * 60));\r\n\r\n    if(year >= 1) {\r\n      if(year == 1) {\r\n        return `Fyrir ${year} ári síðan`;\r\n      } else return `Fyrir ${year} árum síðan`;\r\n    } else if(month >= 1) {\r\n      if(month == 1) {\r\n        return `Fyrir ${month} mánuði síðan`;\r\n      } else return `Fyrir ${month} mánuðum síðan`;\r\n    } else if(week >= 1) {\r\n      if(week == 1) {\r\n        return `Fyrir ${week} viku síðan`;\r\n      } else return `Fyrir ${week} vikum síðan`;\r\n    } else if(day >= 1) {\r\n      if(day == 1) {\r\n        return `Fyrir ${day} degi síðan`;\r\n      } else return `Fyrir ${day} dögum síðan`;\r\n    } else {\r\n      if(hour == 1) {\r\n        return `Fyrir ${hour} klukkustund síðan`;\r\n      } else return `Fyrir ${hour} klukkustundum síðan`;\r\n    }\r\n  }\r\n\r\n  //flokka myndir í catagoríur\r\n  sort(videos, cat) {\r\n    // TODO: reyna koma þessu í forEach eða álíka\r\n    const nyleg = videos.filter(function(categorie) {\r\n      return cat[0].videos.includes(categorie.id);\r\n    });\r\n\r\n    const kennslu = videos.filter(function(categorie) {\r\n      return cat[1].videos.includes(categorie.id);\r\n    });\r\n\r\n    const gaman = videos.filter(function(categorie) {\r\n      return cat[2].videos.includes(categorie.id);\r\n    });\r\n\r\n    return {nyleg, kennslu, gaman};\r\n  }\r\n\r\n}\r\n\r\n//ajax kall á url og senda niðursöðu til video hlut\r\nfunction getData(url, video) {\r\n  const json = new XMLHttpRequest();\r\n  json.open('GET', url, true);\r\n  json.onload = function() {\r\n    if (json.status < 400 && json.status >= 200) {\r\n      video.run(JSON.parse(json.response));\r\n    } else {\r\n\r\n      console.error('villa', json);\r\n      errMsg();\r\n    }\r\n  };\r\n\r\n  json.onerror = function() {\r\n    errMsg();\r\n  };\r\n\r\n  json.send();\r\n}\r\n\r\n//framleiðir villuskilaboð ef axaj klikkar eða önnur villa í ajax kalli.\r\nfunction errMsg() {\r\n  const main = document.querySelector('main');\r\n  const error = document.createElement('div');\r\n  error.classList.add('error');\r\n  error.appendChild(document.createTextNode('Gat ekki hlaðið gögnum'));\r\n  main.appendChild(error);\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const video = new Video();\r\n});\r\n"]}